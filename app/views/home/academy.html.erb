<style>
#academy-logo{
	padding-left: 200px;
	padding-right: 200px;
	padding-top: 10px;
	padding-bottom: 10px;
	border-radius: 50px;
}
.academy-video{
	padding: 2%;
	background-color: grey;
	border-radius: 20px;
}
.my_btn{
	font-size: 20px;
	white-space: normal;
	text-transform: none;
}
</style>


<style type="text/css">
.learning-section { 	height: calc(100% - 20px); 	width: calc(100% - 20px); 	margin: 0; 	padding: 10px; 	display: flex; 	color: black; 	font-family: 'Roboto', sans-serif; } 
.accordion { 	margin: auto; 	width: 90%; } 
.accordion input { 	display: none; } 
.box { 	position: relative; background: lightgrey; height: 64px; transition: all .15s ease-in-out; } 
.box::before { content: ''; position: absolute; display: block; top: 0; bottom: 0; left: 0; right: 0; pointer-events: none; box-shadow: 0 -1px 0 #e5e5e5,0 0 2px rgba(0,0,0,.12),0 2px 4px rgba(0,0,0,.24); } 
header.box { 	z-index: 100; 	cursor: initial; 	box-shadow: 0 -1px 0 #e5e5e5,0 0 2px -2px rgba(0,0,0,.12),0 2px 4px -4px rgba(0,0,0,.24); } 
header .box-title { 	margin: 0; 	font-weight: normal; 	font-size: 25pt; 	cursor: initial; } 
.box-title { 	width: calc(100% - 40px); 	height: 64px; 	line-height: 64px; 	padding: 0 20px; 	display: inline-block; 	cursor: pointer; 	-webkit-touch-callout: none;-webkit-user-select: none;-khtml-user-select: none;-moz-user-select: none;-ms-user-select: none;user-select: none; } 
.box-content { 	width: calc(100% - 40px); 	display: none; } 
.box-close { 	position: absolute; 	height: 64px; 	width: 100%; 	top: 0; 	left: 0; 	cursor: pointer; 	display: none; } 
input:checked + .box { 	height: auto; 	margin: 16px 0; box-shadow: 0 0 6px rgba(0,0,0,.16),0 6px 12px rgba(0,0,0,.32); } 
input:checked + .box .box-title { 	border-bottom: 1px solid rgba(0,0,0,.18); } 
input:checked + .box .box-content, input:checked + .box .box-close { 	display: inline-block; } 
.arrows section .box-title { 	padding-left: 44px; 	width: calc(100% - 64px); } 
.arrows section .box-title:before { 	position: absolute; 	display: block; 	content: '\203a'; 	font-size: 18pt; 	left: 20px; 	top: -2px; 	transition: transform .15s ease-in-out; 	color: rgba(0,0,0,.54); } 
input:checked + section.box .box-title:before { 	transform: rotate(90deg); }
</style>

<style type="text/css">
#fade {
  display: none;
  position: fixed;
  top: 0%;
  left: 0%;
  width: 100%;
  height: 100%;
  background-color: black;
  z-index: 1001;
  -moz-opacity: 0.8;
  opacity: .80;
  filter: alpha(opacity=80);
}

#light {
  display: none;
  position: absolute;
  top: 400px;
  left: 50%;
  max-width: 400px;
  max-height: 360px;
  margin-left: -200px;
  margin-top: -180px;
  border: 2px solid #FFF;
  background: #FFF;
  z-index: 1002;
  overflow: visible;
}

#boxclose {
  float: right;
  cursor: pointer;
  color: #fff;
  border: 1px solid #AEAEAE;
  border-radius: 3px;
  background: #222222;
  font-size: 31px;
  font-weight: bold;
  display: inline-block;
  line-height: 0px;
  padding: 11px 3px;
  position: absolute;
  right: 2px;
  top: 2px;
  z-index: 1002;
  opacity: 0.9;
}

.boxclose:before {
  content: "Ã—";
}

#fade:hover ~ #boxclose {
  display:none;
}

.test:hover ~ .test2 {
  display: none;
}	
</style>


<header>

<div id="light">
  <a class="boxclose" id="boxclose" onclick="lightbox_close();"></a>
  <video id="VisaChipCardVideo" width="400" controls>
  </video>
</div>

<div id="fade" onClick="lightbox_close();"></div>


    <div class="header-content page-wrap" style="padding-left: 30px;padding-bottom: 50px;background-color: #eef4f7;">

        <div class="header-content-inner">

			<div id="academy-logo" class="container bg-dark">
				<div class="row">

					<div id="myCarousel" class="carousel slide" data-ride="carousel">
					  <!-- Indicators -->
					  <ol class="carousel-indicators">
					    <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
					    <li data-target="#myCarousel" data-slide-to="1"></li>
					    <li data-target="#myCarousel" data-slide-to="2"></li>
					  </ol>

					  <!-- Wrapper for slides -->
					  <div class="carousel-inner">
					  	<% a_active = "active" %>
					  	<% Academy.all.each do |a| %>
						    <div class="item <%= a_active %>">
						      <img src="<%= a.link %>">
						    </div>
						    <% a_active = "" %>
					    <% end %>
					  </div>

					  <!-- Left and right controls -->
					  <a class="left carousel-control" href="#myCarousel" data-slide="prev">
					    <span class="glyphicon glyphicon-chevron-left"></span>
					    <span class="sr-only">Previous</span>
					  </a>
					  <a class="right carousel-control" href="#myCarousel" data-slide="next">
					    <span class="glyphicon glyphicon-chevron-right"></span>
					    <span class="sr-only">Next</span>
					  </a>
					</div>
				</div>
			</div>		
			<hr><hr>

			<div class="learning-section">
				<nav class="accordion arrows">

				<header class="box btn-default"><label class="box-title" for="acc-close">Learning Section</label></header>
				<% count = 1 %>
				<% Course.all.each do |c| %>
				<br>
					<input id="cb<%= count %>" name="accordion" type="radio" />
					<section class="box"><label class="box-title" for="cb<%= count %>"><%= c.name %></label>
					<div class="box-content">


						<% c.learns.each do |l|%>
							<div class="academy-video">
								<% if l.link.include? "mp4" %>
									<span id="<%= l.link %>" class=" btn btn-primary btn-block my_btn" onclick="lightbox_open.call(this);">
										<%= l.title %>
									</span>
								<% else %>
									<a href="<%= l.link %>" class=" btn btn-primary btn-block my_btn" target="_blank">
										<%= l.title %>
									</a>
								<% end %>
								<hr>
								<p style="color: white;"><%= l.description %></p>
							</div>							
							<hr>
						<% end %>
					
					</div>
					</section>
					<% count += 1 %>
				<% end %>

				<input id="acc-close" name="accordion" type="radio" /></nav>
			</div>

        </div>
    </div>
</header>

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script>
  $( document ).ready(function(){
  $('#mycarousel').carousel();
  });

$('.carousel').carousel({
    interval: 6000
});   


</script>

<script type="text/javascript">
window.document.onkeydown = function(e) {
  if (!e) {
    e = event;
  }
  if (e.keyCode == 27) {
    lightbox_close();
  }
}

function lightbox_open() {
  var lightBoxVideo = document.getElementById("VisaChipCardVideo");
  window.scrollTo(0, 0);
  document.getElementById('light').style.display = 'block';
  document.getElementById('fade').style.display = 'block';
  console.log(this.id);
  lightBoxVideo.setAttribute("src", this.id);
  lightBoxVideo.play();
}

function lightbox_close() {
  var lightBoxVideo = document.getElementById("VisaChipCardVideo");
  document.getElementById('light').style.display = 'none';
  document.getElementById('fade').style.display = 'none';
  lightBoxVideo.pause();
}	
</script>
